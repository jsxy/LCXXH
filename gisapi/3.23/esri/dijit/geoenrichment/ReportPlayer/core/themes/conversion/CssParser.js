// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.23/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/core/themes/conversion/CssParser",["../BorderStyles","../ThemeUpdateUtil","../../../_devConfig"],function(p,q,r){var k={"font-size":"fontSize","font-family":"fontFamily","font-style":"fontStyle","font-weight":"fontWeight","text-decoration":"textDecoration",color:"color","background-color":"backgroundColor",opacity:"opacity",url:"data","background-position":"position","background-repeat":"repeat","background-size":"scale"};return{fromCssText:function(f){function t(a){var b=
h;a.split("@").forEach(function(a){b=b[a]=b[a]||{}});return b}function u(a,b){if(b.borderStyle||b.border)if(a.border={},a.border.style=b.borderStyle||p.ALL,"string"===typeof b.border){var d=b.border.split(" ");3===d.length&&(a.border.thickness=Number(d[0].replace("px","")),a.border.lineStyle=d[1],a.border.color=d[2])}for(var e in b)if("border"!==e&&"borderStyle"!==e){var d=b[e],c;c=e;var g=d;c="font-size"===c?{name:k[c],value:g.replace("px","")}:"background-repeat"===c?{name:k[c],value:"repeat"===
g}:"background-size"===c?{name:k[c],value:"contain"===g||"cover"===g}:void 0;a[c&&c.name||k[e]||e]=v(c?c.value:d)}}function v(a){if(void 0===a||null===a||"null"===a||"undefined"===a)return"";if("true"===a)return!0;if("false"===a)return!1;if(!0===a)return!0;if(!1===a)return!1;var b=Number(a);return isNaN(b)?a:b}function m(a){if(r.emulateErrors.themeParseError)throw Error("Error test: something crashed during the parsing of the theme!");if("object"===typeof a)for(var b in a){var d=a[b];if("colors"===
b){var e=[],c=Object.keys(d);if(c.length){var g=c.every(function(a){return-1!==a.indexOf("_")});c.forEach(function(a,b){e[g?a.split("_")[1]:b]=d[a]})}a[b]=e}else m(d)}}var h={};f=f.replace(/\n/g,"");f=f.replace(/(\w|\d)_(\w|\d)/g,"$1@$2");f=f.replace("data:","dataM");f=f.replace(";base64","Mbase64");var n=function(){var a={};(f.match(/\..*?\}/g)||[]).forEach(function(b){var d=b.substring(1,b.indexOf("{")).trim(),e={};b.substring(b.indexOf("{")+1,b.indexOf("}")).trim().split(";").forEach(function(a){if(a=
a.trim()){a=a.split(":");var b=a[1].trim(),b=b.replace("dataM","data:"),b=b.replace("Mbase64",";base64");e[a[0].trim()]=b}});a[d]=e});return a}(),l;for(l in n)u(t(l),n[l]);delete h.themeMetadata;m(h);q.populateMissingStyles(h);return h}}});