// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.23/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/core/charts/chartUtils/plots/PictureClusteredBars","dojo/_base/Color dojo/_base/declare dojo/_base/lang dojox/gfx dojox/gfx/utils ./_ClusteredBarsBase ./pictureUtil/Converter ../../../supportClasses/images/ImageDataHolder".split(" "),function(x,h,y,u,z,r,v,A){return h("dojox.charting.plot2d.Bars",r,{_drawBar:function(k,f,e,a,m,c,d){return this._drawBarPictures(k,f.icon||v.DEFAULT_SHAPE,f.bgIcon,e,a,m,c,d,!f.icon)},_drawBarPictures:function(k,f,e,a,m,c,
d,h,r){function w(a,g){var d=y.mixin({},g),b=a.shapeJson||a.imageJson,f=!!a.shapeJson;if(b){for(var e=g.height/b.style.height,l=b.style.width*e,c=Math[m.series.showWholePictures&&!r?"floor":"ceil"](g.width/l),p=0;p<c;p++){var n=t.createGroup();if(f){var q=v.shapeJsonToGFXJson(b);try{z.deserialize(n,q)}catch(B){console.log(B)}}else n.createImage({x:0,y:0,width:b.style.width,height:b.style.height,src:A.getImageData(b.fileName)});p===c-1&&n.setClip({x:0,y:0,width:(l-(c*l-g.width))/e,height:b.style.height});
var q=g.x+p*l,h=g.y,k=e;b.style.zoom&&(q-=l*(b.style.zoom-1)/2,h-=g.height*(b.style.zoom-1)/2,k*=b.style.zoom);n.applyTransform(u.matrix.translate(q,h));n.applyTransform(u.matrix.scale(k))}m.series.showWholePictures&&(d.width=c*l);return d}}var t=k.createGroup();this.createRect(h,t,{x:a.x,y:a.y,width:c.width-d.l-d.r,height:a.height}).setFill(new x([0,0,0,.01]));m.series.showColumnBarBackground&&e&&w(e,{x:a.x,y:a.y,height:a.height,width:c.width-d.l-d.r});a=w(f,a);return{shape:t,rect:a}}})});