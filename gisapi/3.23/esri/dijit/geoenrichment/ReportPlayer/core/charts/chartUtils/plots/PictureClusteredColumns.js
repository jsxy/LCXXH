// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.23/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/core/charts/chartUtils/plots/PictureClusteredColumns","dojo/_base/Color dojo/_base/declare dojo/_base/lang dojox/gfx dojox/gfx/utils ./_ClusteredColumnsBase ./pictureUtil/Converter ../../../supportClasses/images/ImageDataHolder".split(" "),function(x,k,y,u,z,r,v,A){return k(r,{_drawColumn:function(l,g,f,b,n,d,a){return this._drawColumnPictures(l,g.icon||v.DEFAULT_SHAPE,g.bgIcon,f,b,n,d,a,!g.icon)},_drawColumnPictures:function(l,g,f,b,n,d,a,k,r){function w(b,
e){var a=y.mixin({},e),c=b.shapeJson||b.imageJson,g=!!b.shapeJson;if(c){for(var f=e.width/c.style.width,m=c.style.height*f,d=Math[n.series.showWholePictures&&!r?"floor":"ceil"](e.height/m),q=0;q<d;q++){var p=t.createGroup();if(g){var h=v.shapeJsonToGFXJson(c);try{z.deserialize(p,h)}catch(B){console.log(B)}}else p.createImage({x:0,y:0,width:c.style.width,height:c.style.height,src:A.getImageData(c.fileName)});q===d-1&&(h=(m-(d*m-e.height))/f,p.setClip({x:0,y:c.style.height-h,width:c.style.width,height:h}));
var h=e.x,k=e.y+e.height-(q+1)*m,l=f;c.style.zoom&&(h-=e.width*(c.style.zoom-1)/2,k-=m*(c.style.zoom-1)/2,l*=c.style.zoom);p.applyTransform(u.matrix.translate(h,k));p.applyTransform(u.matrix.scale(l))}n.series.showWholePictures&&(a.height=d*m,a.y+=e.height-a.height);return a}}var t=l.createGroup();this.createRect(k,t,{x:b.x,y:a.t,width:b.width,height:d.height-a.t-a.b}).setFill(new x([0,0,0,.01]));n.series.showColumnBarBackground&&f&&w(f,{x:b.x,y:a.t,height:d.height-a.t-a.b,width:b.width});b=w(g,b);
return{shape:t,rect:b}}})});